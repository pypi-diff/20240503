# Comparing `tmp/tqdm-4.8.4.zip` & `tmp/tqdm-4.9.0.zip`

## zipinfo {}

```diff
@@ -1,45 +1,45 @@
-Zip file size: 96740 bytes, number of entries: 43
--rw-rw-r--  2.0 unx      282 b- defN 16-May-28 10:25 tqdm-4.8.4/MANIFEST.in
--rw-rw-r--  2.0 unx       88 b- defN 16-Aug-17 23:38 tqdm-4.8.4/setup.cfg
--rwxrwxr-x  2.0 unx     7916 b- defN 16-Jun-10 14:00 tqdm-4.8.4/setup.py
--rw-rw-r--  2.0 unx     6596 b- defN 16-Jun-10 14:00 tqdm-4.8.4/CONTRIBUTE
--rw-rw-r--  2.0 unx     1188 b- defN 16-May-28 10:25 tqdm-4.8.4/tox.ini
--rw-rw-r--  2.0 unx     4982 b- defN 16-May-28 10:25 tqdm-4.8.4/logo.png
--rw-rw-r--  2.0 unx       93 b- defN 16-Jul-24 17:07 tqdm-4.8.4/.coveragerc
--rw-rw-r--  2.0 unx    21663 b- defN 16-Aug-17 23:16 tqdm-4.8.4/README.rst
--rw-rw-r--  2.0 unx     1866 b- defN 16-May-28 10:25 tqdm-4.8.4/LICENCE
--rw-rw-r--  2.0 unx     2497 b- defN 16-Jun-10 14:00 tqdm-4.8.4/Makefile
--rw-rw-r--  2.0 unx    29017 b- defN 16-Aug-17 23:38 tqdm-4.8.4/PKG-INFO
--rw-rw-r--  2.0 unx        5 b- defN 16-Aug-17 23:38 tqdm-4.8.4/tqdm.egg-info/top_level.txt
--rw-rw-r--  2.0 unx        1 b- defN 16-Aug-17 23:38 tqdm-4.8.4/tqdm.egg-info/dependency_links.txt
--rw-rw-r--  2.0 unx      929 b- defN 16-Aug-17 23:38 tqdm-4.8.4/tqdm.egg-info/SOURCES.txt
--rw-rw-r--  2.0 unx       42 b- defN 16-Aug-17 23:38 tqdm-4.8.4/tqdm.egg-info/entry_points.txt
--rw-rw-r--  2.0 unx    29017 b- defN 16-Aug-17 23:38 tqdm-4.8.4/tqdm.egg-info/PKG-INFO
--rw-rw-r--  2.0 unx      925 b- defN 16-Aug-17 22:55 tqdm-4.8.4/examples/pandas_progress_apply.py
--rw-rw-r--  2.0 unx       33 b- defN 16-Aug-17 22:36 tqdm-4.8.4/examples/.git
--rw-rw-r--  2.0 unx     1942 b- defN 16-Aug-17 22:55 tqdm-4.8.4/examples/tqdm_wget.py
--rw-rw-r--  2.0 unx     1122 b- defN 16-Aug-17 22:55 tqdm-4.8.4/examples/simple_examples.py
--rw-rw-r--  2.0 unx      216 b- defN 16-Aug-17 22:55 tqdm-4.8.4/examples/include_no_requirements.py
--rw-rw-r--  2.0 unx    11170 b- defN 15-Dec-28 22:16 tqdm-4.8.4/examples/progressbar/widgets.py
--rw-rw-r--  2.0 unx      767 b- defN 16-May-15 15:15 tqdm-4.8.4/examples/progressbar/compat.pyc
--rw-rw-r--  2.0 unx     1282 b- defN 16-May-15 15:15 tqdm-4.8.4/examples/progressbar/__init__.pyc
--rw-rw-r--  2.0 unx     9432 b- defN 15-Dec-28 22:16 tqdm-4.8.4/examples/progressbar/progressbar.py
--rw-rw-r--  2.0 unx    14752 b- defN 16-May-15 15:15 tqdm-4.8.4/examples/progressbar/widgets.pyc
--rw-rw-r--  2.0 unx     1917 b- defN 15-Dec-28 22:16 tqdm-4.8.4/examples/progressbar/__init__.py
--rw-rw-r--  2.0 unx     9870 b- defN 16-May-15 15:15 tqdm-4.8.4/examples/progressbar/progressbar.pyc
--rw-rw-r--  2.0 unx     1460 b- defN 15-Dec-28 22:16 tqdm-4.8.4/examples/progressbar/compat.py
--rw-rw-r--  2.0 unx    36089 b- defN 16-Aug-17 23:33 tqdm-4.8.4/tqdm/_tqdm.py
--rw-rw-r--  2.0 unx     4229 b- defN 16-Jul-24 17:13 tqdm-4.8.4/tqdm/_main.py
--rw-rw-r--  2.0 unx     8132 b- defN 16-Aug-16 21:08 tqdm-4.8.4/tqdm/_tqdm_notebook.py
--rw-rw-r--  2.0 unx      924 b- defN 16-Aug-17 23:37 tqdm-4.8.4/tqdm/_version.py
--rw-rw-r--  2.0 unx    13461 b- defN 16-Aug-17 23:33 tqdm-4.8.4/tqdm/_tqdm_gui.py
--rw-rw-r--  2.0 unx       31 b- defN 16-May-28 10:25 tqdm-4.8.4/tqdm/__main__.py
--rw-rw-r--  2.0 unx     1608 b- defN 16-Jul-24 17:13 tqdm-4.8.4/tqdm/_tqdm_pandas.py
--rw-rw-r--  2.0 unx     1000 b- defN 16-Jul-24 17:13 tqdm-4.8.4/tqdm/__init__.py
--rw-rw-r--  2.0 unx     3453 b- defN 16-Aug-17 23:33 tqdm-4.8.4/tqdm/_utils.py
--rw-rw-r--  2.0 unx     4271 b- defN 16-Aug-12 00:12 tqdm-4.8.4/tqdm/tests/tests_pandas.py
--rw-rw-r--  2.0 unx    42193 b- defN 16-Jul-24 17:13 tqdm-4.8.4/tqdm/tests/tests_tqdm.py
--rw-rw-r--  2.0 unx     2588 b- defN 16-Jul-18 21:46 tqdm-4.8.4/tqdm/tests/tests_main.py
--rw-rw-r--  2.0 unx     9987 b- defN 16-Jun-10 14:00 tqdm-4.8.4/tqdm/tests/tests_perf.py
--rw-rw-r--  2.0 unx      289 b- defN 16-May-28 10:25 tqdm-4.8.4/tqdm/tests/tests_version.py
-43 files, 289325 bytes uncompressed, 90712 bytes compressed:  68.6%
+Zip file size: 101992 bytes, number of entries: 43
+-rw-rw-r--  2.0 unx      282 b- defN 16-May-28 10:25 tqdm-4.9.0/MANIFEST.in
+-rw-rw-r--  2.0 unx       88 b- defN 16-Oct-31 02:46 tqdm-4.9.0/setup.cfg
+-rwxrwxr-x  2.0 unx     7924 b- defN 16-Oct-31 02:11 tqdm-4.9.0/setup.py
+-rw-rw-r--  2.0 unx     6596 b- defN 16-Oct-31 02:04 tqdm-4.9.0/CONTRIBUTE
+-rw-rw-r--  2.0 unx      987 b- defN 16-Oct-31 02:04 tqdm-4.9.0/tox.ini
+-rw-rw-r--  2.0 unx     4982 b- defN 16-May-28 10:25 tqdm-4.9.0/logo.png
+-rw-rw-r--  2.0 unx       93 b- defN 16-Oct-29 17:20 tqdm-4.9.0/.coveragerc
+-rw-rw-r--  2.0 unx    23740 b- defN 16-Oct-31 02:05 tqdm-4.9.0/README.rst
+-rw-rw-r--  2.0 unx     1866 b- defN 16-May-28 10:25 tqdm-4.9.0/LICENCE
+-rw-rw-r--  2.0 unx     2297 b- defN 16-Oct-31 02:04 tqdm-4.9.0/Makefile
+-rw-rw-r--  2.0 unx    31382 b- defN 16-Oct-31 02:46 tqdm-4.9.0/PKG-INFO
+-rw-rw-r--  2.0 unx        5 b- defN 16-Oct-31 02:46 tqdm-4.9.0/tqdm.egg-info/top_level.txt
+-rw-rw-r--  2.0 unx        1 b- defN 16-Oct-31 02:46 tqdm-4.9.0/tqdm.egg-info/dependency_links.txt
+-rw-rw-r--  2.0 unx      929 b- defN 16-Oct-31 02:46 tqdm-4.9.0/tqdm.egg-info/SOURCES.txt
+-rw-rw-r--  2.0 unx       42 b- defN 16-Oct-31 02:46 tqdm-4.9.0/tqdm.egg-info/entry_points.txt
+-rw-rw-r--  2.0 unx    31382 b- defN 16-Oct-31 02:46 tqdm-4.9.0/tqdm.egg-info/PKG-INFO
+-rw-rw-r--  2.0 unx      922 b- defN 16-Oct-31 02:06 tqdm-4.9.0/examples/pandas_progress_apply.py
+-rw-rw-r--  2.0 unx       33 b- defN 16-Aug-17 22:36 tqdm-4.9.0/examples/.git
+-rw-rw-r--  2.0 unx     1942 b- defN 16-Aug-17 22:55 tqdm-4.9.0/examples/tqdm_wget.py
+-rw-rw-r--  2.0 unx     1122 b- defN 16-Oct-29 17:20 tqdm-4.9.0/examples/simple_examples.py
+-rw-rw-r--  2.0 unx      228 b- defN 16-Oct-31 00:33 tqdm-4.9.0/examples/include_no_requirements.py
+-rw-rw-r--  2.0 unx    11170 b- defN 15-Dec-28 22:16 tqdm-4.9.0/examples/progressbar/widgets.py
+-rw-rw-r--  2.0 unx      767 b- defN 16-May-15 15:15 tqdm-4.9.0/examples/progressbar/compat.pyc
+-rw-rw-r--  2.0 unx     1282 b- defN 16-May-15 15:15 tqdm-4.9.0/examples/progressbar/__init__.pyc
+-rw-rw-r--  2.0 unx     9432 b- defN 15-Dec-28 22:16 tqdm-4.9.0/examples/progressbar/progressbar.py
+-rw-rw-r--  2.0 unx    14752 b- defN 16-May-15 15:15 tqdm-4.9.0/examples/progressbar/widgets.pyc
+-rw-rw-r--  2.0 unx     1917 b- defN 15-Dec-28 22:16 tqdm-4.9.0/examples/progressbar/__init__.py
+-rw-rw-r--  2.0 unx     9870 b- defN 16-May-15 15:15 tqdm-4.9.0/examples/progressbar/progressbar.pyc
+-rw-rw-r--  2.0 unx     1460 b- defN 15-Dec-28 22:16 tqdm-4.9.0/examples/progressbar/compat.py
+-rw-rw-r--  2.0 unx    39892 b- defN 16-Oct-31 02:04 tqdm-4.9.0/tqdm/_tqdm.py
+-rw-rw-r--  2.0 unx     4951 b- defN 16-Oct-31 00:33 tqdm-4.9.0/tqdm/_main.py
+-rw-rw-r--  2.0 unx     8282 b- defN 16-Oct-31 00:33 tqdm-4.9.0/tqdm/_tqdm_notebook.py
+-rw-rw-r--  2.0 unx      924 b- defN 16-Oct-31 02:34 tqdm-4.9.0/tqdm/_version.py
+-rw-rw-r--  2.0 unx    13461 b- defN 16-Oct-29 17:20 tqdm-4.9.0/tqdm/_tqdm_gui.py
+-rw-rw-r--  2.0 unx       31 b- defN 16-May-28 10:25 tqdm-4.9.0/tqdm/__main__.py
+-rw-rw-r--  2.0 unx     1608 b- defN 16-Oct-29 17:20 tqdm-4.9.0/tqdm/_tqdm_pandas.py
+-rw-rw-r--  2.0 unx     1000 b- defN 16-Oct-29 17:20 tqdm-4.9.0/tqdm/__init__.py
+-rw-rw-r--  2.0 unx     3427 b- defN 16-Oct-31 02:15 tqdm-4.9.0/tqdm/_utils.py
+-rw-rw-r--  2.0 unx     4271 b- defN 16-Oct-29 17:20 tqdm-4.9.0/tqdm/tests/tests_pandas.py
+-rw-rw-r--  2.0 unx    49400 b- defN 16-Oct-31 02:13 tqdm-4.9.0/tqdm/tests/tests_tqdm.py
+-rw-rw-r--  2.0 unx     2834 b- defN 16-Oct-31 00:43 tqdm-4.9.0/tqdm/tests/tests_main.py
+-rw-rw-r--  2.0 unx     9881 b- defN 16-Oct-31 00:33 tqdm-4.9.0/tqdm/tests/tests_perf.py
+-rw-rw-r--  2.0 unx      289 b- defN 16-May-28 10:25 tqdm-4.9.0/tqdm/tests/tests_version.py
+43 files, 307744 bytes uncompressed, 95964 bytes compressed:  68.8%
```

## zipnote {}

```diff
@@ -1,130 +1,130 @@
-Filename: tqdm-4.8.4/MANIFEST.in
+Filename: tqdm-4.9.0/MANIFEST.in
 Comment: 
 
-Filename: tqdm-4.8.4/setup.cfg
+Filename: tqdm-4.9.0/setup.cfg
 Comment: 
 
-Filename: tqdm-4.8.4/setup.py
+Filename: tqdm-4.9.0/setup.py
 Comment: 
 
-Filename: tqdm-4.8.4/CONTRIBUTE
+Filename: tqdm-4.9.0/CONTRIBUTE
 Comment: 
 
-Filename: tqdm-4.8.4/tox.ini
+Filename: tqdm-4.9.0/tox.ini
 Comment: 
 
-Filename: tqdm-4.8.4/logo.png
+Filename: tqdm-4.9.0/logo.png
 Comment: 
 
-Filename: tqdm-4.8.4/.coveragerc
+Filename: tqdm-4.9.0/.coveragerc
 Comment: 
 
-Filename: tqdm-4.8.4/README.rst
+Filename: tqdm-4.9.0/README.rst
 Comment: 
 
-Filename: tqdm-4.8.4/LICENCE
+Filename: tqdm-4.9.0/LICENCE
 Comment: 
 
-Filename: tqdm-4.8.4/Makefile
+Filename: tqdm-4.9.0/Makefile
 Comment: 
 
-Filename: tqdm-4.8.4/PKG-INFO
+Filename: tqdm-4.9.0/PKG-INFO
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm.egg-info/top_level.txt
+Filename: tqdm-4.9.0/tqdm.egg-info/top_level.txt
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm.egg-info/dependency_links.txt
+Filename: tqdm-4.9.0/tqdm.egg-info/dependency_links.txt
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm.egg-info/SOURCES.txt
+Filename: tqdm-4.9.0/tqdm.egg-info/SOURCES.txt
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm.egg-info/entry_points.txt
+Filename: tqdm-4.9.0/tqdm.egg-info/entry_points.txt
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm.egg-info/PKG-INFO
+Filename: tqdm-4.9.0/tqdm.egg-info/PKG-INFO
 Comment: 
 
-Filename: tqdm-4.8.4/examples/pandas_progress_apply.py
+Filename: tqdm-4.9.0/examples/pandas_progress_apply.py
 Comment: 
 
-Filename: tqdm-4.8.4/examples/.git
+Filename: tqdm-4.9.0/examples/.git
 Comment: 
 
-Filename: tqdm-4.8.4/examples/tqdm_wget.py
+Filename: tqdm-4.9.0/examples/tqdm_wget.py
 Comment: 
 
-Filename: tqdm-4.8.4/examples/simple_examples.py
+Filename: tqdm-4.9.0/examples/simple_examples.py
 Comment: 
 
-Filename: tqdm-4.8.4/examples/include_no_requirements.py
+Filename: tqdm-4.9.0/examples/include_no_requirements.py
 Comment: 
 
-Filename: tqdm-4.8.4/examples/progressbar/widgets.py
+Filename: tqdm-4.9.0/examples/progressbar/widgets.py
 Comment: 
 
-Filename: tqdm-4.8.4/examples/progressbar/compat.pyc
+Filename: tqdm-4.9.0/examples/progressbar/compat.pyc
 Comment: 
 
-Filename: tqdm-4.8.4/examples/progressbar/__init__.pyc
+Filename: tqdm-4.9.0/examples/progressbar/__init__.pyc
 Comment: 
 
-Filename: tqdm-4.8.4/examples/progressbar/progressbar.py
+Filename: tqdm-4.9.0/examples/progressbar/progressbar.py
 Comment: 
 
-Filename: tqdm-4.8.4/examples/progressbar/widgets.pyc
+Filename: tqdm-4.9.0/examples/progressbar/widgets.pyc
 Comment: 
 
-Filename: tqdm-4.8.4/examples/progressbar/__init__.py
+Filename: tqdm-4.9.0/examples/progressbar/__init__.py
 Comment: 
 
-Filename: tqdm-4.8.4/examples/progressbar/progressbar.pyc
+Filename: tqdm-4.9.0/examples/progressbar/progressbar.pyc
 Comment: 
 
-Filename: tqdm-4.8.4/examples/progressbar/compat.py
+Filename: tqdm-4.9.0/examples/progressbar/compat.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/_tqdm.py
+Filename: tqdm-4.9.0/tqdm/_tqdm.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/_main.py
+Filename: tqdm-4.9.0/tqdm/_main.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/_tqdm_notebook.py
+Filename: tqdm-4.9.0/tqdm/_tqdm_notebook.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/_version.py
+Filename: tqdm-4.9.0/tqdm/_version.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/_tqdm_gui.py
+Filename: tqdm-4.9.0/tqdm/_tqdm_gui.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/__main__.py
+Filename: tqdm-4.9.0/tqdm/__main__.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/_tqdm_pandas.py
+Filename: tqdm-4.9.0/tqdm/_tqdm_pandas.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/__init__.py
+Filename: tqdm-4.9.0/tqdm/__init__.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/_utils.py
+Filename: tqdm-4.9.0/tqdm/_utils.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/tests/tests_pandas.py
+Filename: tqdm-4.9.0/tqdm/tests/tests_pandas.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/tests/tests_tqdm.py
+Filename: tqdm-4.9.0/tqdm/tests/tests_tqdm.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/tests/tests_main.py
+Filename: tqdm-4.9.0/tqdm/tests/tests_main.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/tests/tests_perf.py
+Filename: tqdm-4.9.0/tqdm/tests/tests_perf.py
 Comment: 
 
-Filename: tqdm-4.8.4/tqdm/tests/tests_version.py
+Filename: tqdm-4.9.0/tqdm/tests/tests_version.py
 Comment: 
 
 Zip file comment:
```

## Comparing `tqdm-4.8.4/setup.py` & `tqdm-4.9.0/setup.py`

 * *Files 6% similar despite different names*

```diff
@@ -4,28 +4,28 @@
 import os
 try:
     from setuptools import setup
 except ImportError:
     from distutils.core import setup
 import sys
 from subprocess import check_call
-from io import open
+from io import open as io_open
 
 # For Makefile parsing
 import shlex
 try:  # pragma: no cover
     import ConfigParser
     import StringIO
 except ImportError:  # pragma: no cover
     import configparser as ConfigParser
     import io as StringIO
 import re
 
 
-""" Makefile auxiliary functions """
+# Makefile auxiliary functions #
 
 RE_MAKE_CMD = re.compile('^\t(@\+?)(make)?', flags=re.M)
 
 
 def parse_makefile_aliases(filepath):
     '''
     Parse a makefile to find commands and substitute variables. Expects a
@@ -33,15 +33,15 @@
 
     Returns a dict, with a list of commands for each alias.
     '''
 
     # -- Parsing the Makefile using ConfigParser
     # Adding a fake section to make the Makefile a valid Ini file
     ini_str = '[root]\n'
-    with open(filepath, mode='r') as fd:
+    with io_open(filepath, mode='r') as fd:
         ini_str = ini_str + RE_MAKE_CMD.sub('\t', fd.read())
     ini_fp = StringIO.StringIO(ini_str)
     # Parse using ConfigParser
     config = ConfigParser.RawConfigParser()
     config.readfp(ini_fp)
     # Fetch the list of aliases
     aliases = config.options('root')
@@ -112,20 +112,20 @@
         if parsed_cmd:
             if verbose:
                 print("Running command: " + cmd)
             # Launch the command and wait to finish (synchronized call)
             check_call(parsed_cmd)
 
 
-""" Main setup.py config """
+# Main setup.py config #
 
 # Get version from tqdm/_version.py
 __version__ = None
 version_file = os.path.join(os.path.dirname(__file__), 'tqdm', '_version.py')
-with open(version_file, mode='r') as fd:
+with io_open(version_file, mode='r') as fd:
     exec(fd.read())
 
 # Executing makefile commands if specified
 if sys.argv[1].lower().strip() == 'make':
     # Filename of the makefile
     fpath = 'Makefile'
     # Parse the makefile, substitute the aliases and extract the commands
@@ -150,18 +150,18 @@
             raise Exception("Provided alias cannot be found: make " + arg)
     # Stop the processing of setup.py here:
     # It's important to avoid setup.py raising an error because of the command
     # not being standard
     sys.exit(0)
 
 
-""" Python package config """
+# Python package config #
 
 README_rst = ''
-with open('README.rst', mode='r', encoding='utf-8') as fd:
+with io_open('README.rst', mode='r', encoding='utf-8') as fd:
     README_rst = fd.read()
 
 setup(
     name='tqdm',
     version=__version__,
     description='A Fast, Extensible Progress Meter',
     license='MPLv2.0, MIT Licenses',
```

## Comparing `tqdm-4.8.4/CONTRIBUTE` & `tqdm-4.9.0/CONTRIBUTE`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/tox.ini` & `tqdm-4.9.0/tox.ini`

 * *Files 27% similar despite different names*

```diff
@@ -11,23 +11,20 @@
 deps =
     nose
     nose-timer
     coverage<4
     coveralls
 commands =
     nosetests --with-coverage --with-timer --cover-package=tqdm --ignore-files="tests_perf\.py" -d -v tqdm/
-    coveralls
+    - coveralls
 
 [testenv:flake8]
 deps = flake8
 commands =
-    flake8 --max-line-length=80 --count --statistics --exit-zero tqdm/
-    flake8 --max-line-length=80 --count --statistics --exit-zero examples/
-    flake8 --max-line-length=80 --count --statistics --exit-zero .
-    flake8 --max-line-length=80 --count --statistics --exit-zero tqdm/tests/
+    flake8 --max-line-length=80 --count --statistics --exit-zero -j 8 --exclude .asv .
 
 [testenv:setup.py]
 deps =
     docutils
     pygments
 commands =
     python setup.py check --restructuredtext --metadata --strict
```

## Comparing `tqdm-4.8.4/logo.png` & `tqdm-4.9.0/logo.png`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/README.rst` & `tqdm-4.9.0/README.rst`

 * *Files 4% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 |Logo|
 
 tqdm
 ====
 
 |PyPI-Status| |PyPI-Versions|
 
-|Build-Status| |Coverage-Status| |Branch-Coverage-Status|
+|Build-Status| |Coverage-Status| |Branch-Coverage-Status| |Codacy-Grade|
 
 |DOI-URI| |LICENCE|
 
 
 ``tqdm`` (read taqadum, تقدّم) means "progress" in arabic.
 
 Instantly make your loops show a smart progress meter - just wrap any
@@ -242,53 +242,53 @@
     Leave blank to manually manage the updates.
 * desc  : str, optional  
     Prefix for the progressbar.
 * total  : int, optional  
     The number of expected iterations. If (default: None),
     len(iterable) is used if possible. As a last resort, only basic
     progress statistics are displayed (no ETA, no progressbar).
-    If `gui` is True and this parameter needs subsequent updating,
+    If ``gui`` is True and this parameter needs subsequent updating,
     specify an initial arbitrary large positive integer,
     e.g. int(9e9).
 * leave  : bool, optional  
     If [default: True], keeps all traces of the progressbar
     upon termination of iteration.
-* file  : `io.TextIOWrapper` or `io.StringIO`, optional  
+* file  : ``io.TextIOWrapper`` or ``io.StringIO``, optional  
     Specifies where to output the progress messages
-    [default: sys.stderr]. Uses `file.write(str)` and `file.flush()`
+    [default: sys.stderr]. Uses ``file.write(str)`` and ``file.flush()``
     methods.
 * ncols  : int, optional  
     The width of the entire output message. If specified,
     dynamically resizes the progressbar to stay within this bound.
     If unspecified, attempts to use environment width. The
     fallback is a meter width of 10 and no limit for the counter and
     statistics. If 0, will not print any meter (only stats).
 * mininterval  : float, optional  
     Minimum progress update interval, in seconds [default: 0.1].
 * maxinterval  : float, optional  
     Maximum progress update interval, in seconds [default: 10.0].
 * miniters  : int, optional  
     Minimum progress update interval, in iterations.
-    If specified, will set `mininterval` to 0.
+    If specified, will set ``mininterval`` to 0.
 * ascii  : bool, optional  
     If unspecified or False, use unicode (smooth blocks) to fill
-    the meter. The fallback is to use ASCII characters `1-9 #`.
+    the meter. The fallback is to use ASCII characters ``1-9 #``.
 * disable  : bool, optional  
     Whether to disable the entire progressbar wrapper
     [default: False].
 * unit  : str, optional  
     String that will be used to define the unit of each iteration
     [default: it].
 * unit_scale  : bool, optional  
     If set, the number of iterations will be reduced/scaled
     automatically and a metric prefix following the
     International System of Units standard will be added
     (kilo, mega, etc.) [default: False].
 * dynamic_ncols  : bool, optional  
-    If set, constantly alters `ncols` to the environment (allowing
+    If set, constantly alters ``ncols`` to the environment (allowing
     for window resizes) [default: False].
 * smoothing  : float, optional  
     Exponential moving average smoothing factor for speed estimates
     (ignored in GUI mode). Ranges from 0 (average speed) to 1
     (current/instantaneous speed) [default: 0.3].
 * bar_format  : str, optional  
     Specify a custom bar string formatting. May impact performance.
@@ -309,15 +309,17 @@
 ~~~~~~~~~~~~~~~~~
 
 * delim  : chr, optional  
     Delimiting character [default: '\n']. Use '\0' for null.
     N.B.: on Windows systems, Python converts '\n' to '\r\n'.
 * buf_size  : int, optional  
     String buffer size in bytes [default: 256]
-    used when `delim` is specified.
+    used when ``delim`` is specified.
+* bytes  : bool, optional  
+    If true, will count bytes and ignore ``delim``.
 
 Returns
 ~~~~~~~
 
 * out  : decorated iterator.
 
 .. code:: python
@@ -329,15 +331,15 @@
           E.g.:
           >>> t = tqdm(total=filesize) # Initialise
           >>> for current_buffer in stream:
           ...    ...
           ...    t.update(len(current_buffer))
           >>> t.close()
           The last line is highly recommended, but possibly not necessary if
-          `t.update()` will be called in such a way that `filesize` will be
+          ``t.update()`` will be called in such a way that ``filesize`` will be
           exactly reached and printed.
 
           Parameters
           ----------
           n  : int
               Increment to add to the internal counter of iterations
               [default: 1].
@@ -393,15 +395,15 @@
 Examples and Advanced Usage
 ---------------------------
 
 - See the `examples <https://github.com/tqdm/tqdm/tree/master/examples>`__
   folder;
 - import the module and run ``help()``, or
 - consult the `wiki <https://github.com/tqdm/tqdm/wiki>`__.
-    - this has an `excellent article <https://github.com/tqdm/tqdm/wiki/How-to-Make-a-Great-Progressbar>`__ on how to make a **great** progressbar.
+    - this has an `excellent article <https://github.com/tqdm/tqdm/wiki/How-to-make-a-great-Progress-Bar>`__ on how to make a **great** progressbar.
 
 Nested progress bars
 ~~~~~~~~~~~~~~~~~~~~
 
 ``tqdm`` supports nested progress bars. Here's an example:
 
 .. code:: python
@@ -618,14 +620,46 @@
         for _ in tqdm(range(3), file=save_stdout, dynamic_ncols=True):
             blabla()
             sleep(.5)
 
     # After the `with`, printing is restored
     print('Done!')
 
+Monitoring thread, intervals and miniters
+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+
+``tqdm`` implements a few tricks to to increase efficiency and reduce overhead.
+
+1. Avoid unnecessary frequent bar refreshing: ``mininterval`` defines how long
+   to wait between each refresh. ``tqdm`` always gets updated in the background,
+   but it will diplay only every ``mininterval``.
+2. Reduce number of calls to check system clock/time.
+3. ``mininterval`` is more intuitive to configure than ``miniters``.
+   A clever adjustment system ``dynamic_miniters`` will automatically adjust
+   ``miniters`` to the amount of iterations that fit into time ``mininterval``.
+   Essentially, ``tqdm`` will check if it's time to print without actually
+   checking time. This behavior can be still be bypassed by manually setting
+   ``miniters``.
+
+However, consider a case with a combination of fast and slow iterations.
+After a few fast iterations, ``dynamic_miniters`` will set ``miniters`` to a
+large number. When interation rate subsequently slows, ``miniters`` will
+remain large and thus reduce display update frequency. To address this:
+
+4. ``maxinterval`` defines the maximum time between display refreshes.
+   A concurrent monitoring thread checks for overdue updates and forces one
+   where necessary.
+
+The monitoring thread should not have a noticeable overhead, and guarantees
+updates at least every 10 seconds by default.
+This value can be directly changed by setting the ``monitor_interval`` of
+any ``tqdm`` instance (i.e. ``t = tqdm.tqdm(...); t.monitor_interval = 2``).
+The monitor thread may be disabled application-wide by setting
+``tqdm.tqdm.monitor_interval = 0`` before instantiatiation of any ``tqdm`` bar.
+
 
 Contributions
 -------------
 
 All source code is hosted on `GitHub <https://github.com/tqdm/tqdm>`__.
 Contributions are welcome.
 
@@ -662,14 +696,16 @@
 .. |Screenshot| image:: https://raw.githubusercontent.com/tqdm/tqdm/master/images/tqdm.gif
 .. |Build-Status| image:: https://travis-ci.org/tqdm/tqdm.svg?branch=master
    :target: https://travis-ci.org/tqdm/tqdm
 .. |Coverage-Status| image:: https://coveralls.io/repos/tqdm/tqdm/badge.svg
    :target: https://coveralls.io/r/tqdm/tqdm
 .. |Branch-Coverage-Status| image:: https://codecov.io/github/tqdm/tqdm/coverage.svg?branch=master
    :target: https://codecov.io/github/tqdm/tqdm?branch=master
+.. |Codacy-Grade| image:: https://api.codacy.com/project/badge/Grade/3f965571598f44549c7818f29cdcf177
+   :target: https://www.codacy.com/app/tqdm/tqdm?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=tqdm/tqdm&amp;utm_campaign=Badge_Grade
 .. |GitHub-Status| image:: https://img.shields.io/github/tag/tqdm/tqdm.svg?maxAge=2592000
    :target: https://github.com/tqdm/tqdm/releases
 .. |GitHub-Forks| image:: https://img.shields.io/github/forks/tqdm/tqdm.svg
    :target: https://github.com/tqdm/tqdm/network
 .. |GitHub-Stars| image:: https://img.shields.io/github/stars/tqdm/tqdm.svg
    :target: https://github.com/tqdm/tqdm/stargazers
 .. |PyPI-Status| image:: https://img.shields.io/pypi/v/tqdm.svg
```

## Comparing `tqdm-4.8.4/LICENCE` & `tqdm-4.9.0/LICENCE`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/Makefile` & `tqdm-4.9.0/Makefile`

 * *Files 11% similar despite different names*

```diff
@@ -44,18 +44,15 @@
 	@+make testsetup
 
 all:
 	@+make alltests
 	@+make build
 
 flake8:
-	@+flake8 --max-line-length=80 --count --statistics --exit-zero tqdm/
-	@+flake8 --max-line-length=80 --count --statistics --exit-zero examples/
-	@+flake8 --max-line-length=80 --count --statistics --exit-zero .
-	@+flake8 --max-line-length=80 --count --statistics --exit-zero tqdm/tests/
+	@+flake8 --max-line-length=80 --count --statistics --exit-zero -j 8 --exclude .asv .
 
 test:
 	tox --skip-missing-interpreters
 
 testnose:
 	nosetests tqdm -d -v
```

## Comparing `tqdm-4.8.4/PKG-INFO` & `tqdm-4.9.0/PKG-INFO`

 * *Files 4% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 Metadata-Version: 1.1
 Name: tqdm
-Version: 4.8.4
+Version: 4.9.0
 Summary: A Fast, Extensible Progress Meter
 Home-page: https://github.com/tqdm/tqdm
 Author: tqdm developers
 Author-email: python.tqdm@gmail.com
 License: MPLv2.0, MIT Licenses
 Description: |Logo|
         
         tqdm
         ====
         
         |PyPI-Status| |PyPI-Versions|
         
-        |Build-Status| |Coverage-Status| |Branch-Coverage-Status|
+        |Build-Status| |Coverage-Status| |Branch-Coverage-Status| |Codacy-Grade|
         
         |DOI-URI| |LICENCE|
         
         
         ``tqdm`` (read taqadum, تقدّم) means "progress" in arabic.
         
         Instantly make your loops show a smart progress meter - just wrap any
@@ -250,53 +250,53 @@
             Leave blank to manually manage the updates.
         * desc  : str, optional  
             Prefix for the progressbar.
         * total  : int, optional  
             The number of expected iterations. If (default: None),
             len(iterable) is used if possible. As a last resort, only basic
             progress statistics are displayed (no ETA, no progressbar).
-            If `gui` is True and this parameter needs subsequent updating,
+            If ``gui`` is True and this parameter needs subsequent updating,
             specify an initial arbitrary large positive integer,
             e.g. int(9e9).
         * leave  : bool, optional  
             If [default: True], keeps all traces of the progressbar
             upon termination of iteration.
-        * file  : `io.TextIOWrapper` or `io.StringIO`, optional  
+        * file  : ``io.TextIOWrapper`` or ``io.StringIO``, optional  
             Specifies where to output the progress messages
-            [default: sys.stderr]. Uses `file.write(str)` and `file.flush()`
+            [default: sys.stderr]. Uses ``file.write(str)`` and ``file.flush()``
             methods.
         * ncols  : int, optional  
             The width of the entire output message. If specified,
             dynamically resizes the progressbar to stay within this bound.
             If unspecified, attempts to use environment width. The
             fallback is a meter width of 10 and no limit for the counter and
             statistics. If 0, will not print any meter (only stats).
         * mininterval  : float, optional  
             Minimum progress update interval, in seconds [default: 0.1].
         * maxinterval  : float, optional  
             Maximum progress update interval, in seconds [default: 10.0].
         * miniters  : int, optional  
             Minimum progress update interval, in iterations.
-            If specified, will set `mininterval` to 0.
+            If specified, will set ``mininterval`` to 0.
         * ascii  : bool, optional  
             If unspecified or False, use unicode (smooth blocks) to fill
-            the meter. The fallback is to use ASCII characters `1-9 #`.
+            the meter. The fallback is to use ASCII characters ``1-9 #``.
         * disable  : bool, optional  
             Whether to disable the entire progressbar wrapper
             [default: False].
         * unit  : str, optional  
             String that will be used to define the unit of each iteration
             [default: it].
         * unit_scale  : bool, optional  
             If set, the number of iterations will be reduced/scaled
             automatically and a metric prefix following the
             International System of Units standard will be added
             (kilo, mega, etc.) [default: False].
         * dynamic_ncols  : bool, optional  
-            If set, constantly alters `ncols` to the environment (allowing
+            If set, constantly alters ``ncols`` to the environment (allowing
             for window resizes) [default: False].
         * smoothing  : float, optional  
             Exponential moving average smoothing factor for speed estimates
             (ignored in GUI mode). Ranges from 0 (average speed) to 1
             (current/instantaneous speed) [default: 0.3].
         * bar_format  : str, optional  
             Specify a custom bar string formatting. May impact performance.
@@ -317,15 +317,17 @@
         ~~~~~~~~~~~~~~~~~
         
         * delim  : chr, optional  
             Delimiting character [default: '\n']. Use '\0' for null.
             N.B.: on Windows systems, Python converts '\n' to '\r\n'.
         * buf_size  : int, optional  
             String buffer size in bytes [default: 256]
-            used when `delim` is specified.
+            used when ``delim`` is specified.
+        * bytes  : bool, optional  
+            If true, will count bytes and ignore ``delim``.
         
         Returns
         ~~~~~~~
         
         * out  : decorated iterator.
         
         .. code:: python
@@ -337,15 +339,15 @@
                   E.g.:
                   >>> t = tqdm(total=filesize) # Initialise
                   >>> for current_buffer in stream:
                   ...    ...
                   ...    t.update(len(current_buffer))
                   >>> t.close()
                   The last line is highly recommended, but possibly not necessary if
-                  `t.update()` will be called in such a way that `filesize` will be
+                  ``t.update()`` will be called in such a way that ``filesize`` will be
                   exactly reached and printed.
         
                   Parameters
                   ----------
                   n  : int
                       Increment to add to the internal counter of iterations
                       [default: 1].
@@ -401,15 +403,15 @@
         Examples and Advanced Usage
         ---------------------------
         
         - See the `examples <https://github.com/tqdm/tqdm/tree/master/examples>`__
           folder;
         - import the module and run ``help()``, or
         - consult the `wiki <https://github.com/tqdm/tqdm/wiki>`__.
-            - this has an `excellent article <https://github.com/tqdm/tqdm/wiki/How-to-Make-a-Great-Progressbar>`__ on how to make a **great** progressbar.
+            - this has an `excellent article <https://github.com/tqdm/tqdm/wiki/How-to-make-a-great-Progress-Bar>`__ on how to make a **great** progressbar.
         
         Nested progress bars
         ~~~~~~~~~~~~~~~~~~~~
         
         ``tqdm`` supports nested progress bars. Here's an example:
         
         .. code:: python
@@ -626,14 +628,46 @@
                 for _ in tqdm(range(3), file=save_stdout, dynamic_ncols=True):
                     blabla()
                     sleep(.5)
         
             # After the `with`, printing is restored
             print('Done!')
         
+        Monitoring thread, intervals and miniters
+        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+        
+        ``tqdm`` implements a few tricks to to increase efficiency and reduce overhead.
+        
+        1. Avoid unnecessary frequent bar refreshing: ``mininterval`` defines how long
+           to wait between each refresh. ``tqdm`` always gets updated in the background,
+           but it will diplay only every ``mininterval``.
+        2. Reduce number of calls to check system clock/time.
+        3. ``mininterval`` is more intuitive to configure than ``miniters``.
+           A clever adjustment system ``dynamic_miniters`` will automatically adjust
+           ``miniters`` to the amount of iterations that fit into time ``mininterval``.
+           Essentially, ``tqdm`` will check if it's time to print without actually
+           checking time. This behavior can be still be bypassed by manually setting
+           ``miniters``.
+        
+        However, consider a case with a combination of fast and slow iterations.
+        After a few fast iterations, ``dynamic_miniters`` will set ``miniters`` to a
+        large number. When interation rate subsequently slows, ``miniters`` will
+        remain large and thus reduce display update frequency. To address this:
+        
+        4. ``maxinterval`` defines the maximum time between display refreshes.
+           A concurrent monitoring thread checks for overdue updates and forces one
+           where necessary.
+        
+        The monitoring thread should not have a noticeable overhead, and guarantees
+        updates at least every 10 seconds by default.
+        This value can be directly changed by setting the ``monitor_interval`` of
+        any ``tqdm`` instance (i.e. ``t = tqdm.tqdm(...); t.monitor_interval = 2``).
+        The monitor thread may be disabled application-wide by setting
+        ``tqdm.tqdm.monitor_interval = 0`` before instantiatiation of any ``tqdm`` bar.
+        
         
         Contributions
         -------------
         
         All source code is hosted on `GitHub <https://github.com/tqdm/tqdm>`__.
         Contributions are welcome.
         
@@ -670,14 +704,16 @@
         .. |Screenshot| image:: https://raw.githubusercontent.com/tqdm/tqdm/master/images/tqdm.gif
         .. |Build-Status| image:: https://travis-ci.org/tqdm/tqdm.svg?branch=master
            :target: https://travis-ci.org/tqdm/tqdm
         .. |Coverage-Status| image:: https://coveralls.io/repos/tqdm/tqdm/badge.svg
            :target: https://coveralls.io/r/tqdm/tqdm
         .. |Branch-Coverage-Status| image:: https://codecov.io/github/tqdm/tqdm/coverage.svg?branch=master
            :target: https://codecov.io/github/tqdm/tqdm?branch=master
+        .. |Codacy-Grade| image:: https://api.codacy.com/project/badge/Grade/3f965571598f44549c7818f29cdcf177
+           :target: https://www.codacy.com/app/tqdm/tqdm?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=tqdm/tqdm&amp;utm_campaign=Badge_Grade
         .. |GitHub-Status| image:: https://img.shields.io/github/tag/tqdm/tqdm.svg?maxAge=2592000
            :target: https://github.com/tqdm/tqdm/releases
         .. |GitHub-Forks| image:: https://img.shields.io/github/forks/tqdm/tqdm.svg
            :target: https://github.com/tqdm/tqdm/network
         .. |GitHub-Stars| image:: https://img.shields.io/github/stars/tqdm/tqdm.svg
            :target: https://github.com/tqdm/tqdm/stargazers
         .. |PyPI-Status| image:: https://img.shields.io/pypi/v/tqdm.svg
```

## Comparing `tqdm-4.8.4/tqdm.egg-info/SOURCES.txt` & `tqdm-4.9.0/tqdm.egg-info/SOURCES.txt`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/tqdm.egg-info/PKG-INFO` & `tqdm-4.9.0/tqdm.egg-info/PKG-INFO`

 * *Files 4% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 Metadata-Version: 1.1
 Name: tqdm
-Version: 4.8.4
+Version: 4.9.0
 Summary: A Fast, Extensible Progress Meter
 Home-page: https://github.com/tqdm/tqdm
 Author: tqdm developers
 Author-email: python.tqdm@gmail.com
 License: MPLv2.0, MIT Licenses
 Description: |Logo|
         
         tqdm
         ====
         
         |PyPI-Status| |PyPI-Versions|
         
-        |Build-Status| |Coverage-Status| |Branch-Coverage-Status|
+        |Build-Status| |Coverage-Status| |Branch-Coverage-Status| |Codacy-Grade|
         
         |DOI-URI| |LICENCE|
         
         
         ``tqdm`` (read taqadum, تقدّم) means "progress" in arabic.
         
         Instantly make your loops show a smart progress meter - just wrap any
@@ -250,53 +250,53 @@
             Leave blank to manually manage the updates.
         * desc  : str, optional  
             Prefix for the progressbar.
         * total  : int, optional  
             The number of expected iterations. If (default: None),
             len(iterable) is used if possible. As a last resort, only basic
             progress statistics are displayed (no ETA, no progressbar).
-            If `gui` is True and this parameter needs subsequent updating,
+            If ``gui`` is True and this parameter needs subsequent updating,
             specify an initial arbitrary large positive integer,
             e.g. int(9e9).
         * leave  : bool, optional  
             If [default: True], keeps all traces of the progressbar
             upon termination of iteration.
-        * file  : `io.TextIOWrapper` or `io.StringIO`, optional  
+        * file  : ``io.TextIOWrapper`` or ``io.StringIO``, optional  
             Specifies where to output the progress messages
-            [default: sys.stderr]. Uses `file.write(str)` and `file.flush()`
+            [default: sys.stderr]. Uses ``file.write(str)`` and ``file.flush()``
             methods.
         * ncols  : int, optional  
             The width of the entire output message. If specified,
             dynamically resizes the progressbar to stay within this bound.
             If unspecified, attempts to use environment width. The
             fallback is a meter width of 10 and no limit for the counter and
             statistics. If 0, will not print any meter (only stats).
         * mininterval  : float, optional  
             Minimum progress update interval, in seconds [default: 0.1].
         * maxinterval  : float, optional  
             Maximum progress update interval, in seconds [default: 10.0].
         * miniters  : int, optional  
             Minimum progress update interval, in iterations.
-            If specified, will set `mininterval` to 0.
+            If specified, will set ``mininterval`` to 0.
         * ascii  : bool, optional  
             If unspecified or False, use unicode (smooth blocks) to fill
-            the meter. The fallback is to use ASCII characters `1-9 #`.
+            the meter. The fallback is to use ASCII characters ``1-9 #``.
         * disable  : bool, optional  
             Whether to disable the entire progressbar wrapper
             [default: False].
         * unit  : str, optional  
             String that will be used to define the unit of each iteration
             [default: it].
         * unit_scale  : bool, optional  
             If set, the number of iterations will be reduced/scaled
             automatically and a metric prefix following the
             International System of Units standard will be added
             (kilo, mega, etc.) [default: False].
         * dynamic_ncols  : bool, optional  
-            If set, constantly alters `ncols` to the environment (allowing
+            If set, constantly alters ``ncols`` to the environment (allowing
             for window resizes) [default: False].
         * smoothing  : float, optional  
             Exponential moving average smoothing factor for speed estimates
             (ignored in GUI mode). Ranges from 0 (average speed) to 1
             (current/instantaneous speed) [default: 0.3].
         * bar_format  : str, optional  
             Specify a custom bar string formatting. May impact performance.
@@ -317,15 +317,17 @@
         ~~~~~~~~~~~~~~~~~
         
         * delim  : chr, optional  
             Delimiting character [default: '\n']. Use '\0' for null.
             N.B.: on Windows systems, Python converts '\n' to '\r\n'.
         * buf_size  : int, optional  
             String buffer size in bytes [default: 256]
-            used when `delim` is specified.
+            used when ``delim`` is specified.
+        * bytes  : bool, optional  
+            If true, will count bytes and ignore ``delim``.
         
         Returns
         ~~~~~~~
         
         * out  : decorated iterator.
         
         .. code:: python
@@ -337,15 +339,15 @@
                   E.g.:
                   >>> t = tqdm(total=filesize) # Initialise
                   >>> for current_buffer in stream:
                   ...    ...
                   ...    t.update(len(current_buffer))
                   >>> t.close()
                   The last line is highly recommended, but possibly not necessary if
-                  `t.update()` will be called in such a way that `filesize` will be
+                  ``t.update()`` will be called in such a way that ``filesize`` will be
                   exactly reached and printed.
         
                   Parameters
                   ----------
                   n  : int
                       Increment to add to the internal counter of iterations
                       [default: 1].
@@ -401,15 +403,15 @@
         Examples and Advanced Usage
         ---------------------------
         
         - See the `examples <https://github.com/tqdm/tqdm/tree/master/examples>`__
           folder;
         - import the module and run ``help()``, or
         - consult the `wiki <https://github.com/tqdm/tqdm/wiki>`__.
-            - this has an `excellent article <https://github.com/tqdm/tqdm/wiki/How-to-Make-a-Great-Progressbar>`__ on how to make a **great** progressbar.
+            - this has an `excellent article <https://github.com/tqdm/tqdm/wiki/How-to-make-a-great-Progress-Bar>`__ on how to make a **great** progressbar.
         
         Nested progress bars
         ~~~~~~~~~~~~~~~~~~~~
         
         ``tqdm`` supports nested progress bars. Here's an example:
         
         .. code:: python
@@ -626,14 +628,46 @@
                 for _ in tqdm(range(3), file=save_stdout, dynamic_ncols=True):
                     blabla()
                     sleep(.5)
         
             # After the `with`, printing is restored
             print('Done!')
         
+        Monitoring thread, intervals and miniters
+        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+        
+        ``tqdm`` implements a few tricks to to increase efficiency and reduce overhead.
+        
+        1. Avoid unnecessary frequent bar refreshing: ``mininterval`` defines how long
+           to wait between each refresh. ``tqdm`` always gets updated in the background,
+           but it will diplay only every ``mininterval``.
+        2. Reduce number of calls to check system clock/time.
+        3. ``mininterval`` is more intuitive to configure than ``miniters``.
+           A clever adjustment system ``dynamic_miniters`` will automatically adjust
+           ``miniters`` to the amount of iterations that fit into time ``mininterval``.
+           Essentially, ``tqdm`` will check if it's time to print without actually
+           checking time. This behavior can be still be bypassed by manually setting
+           ``miniters``.
+        
+        However, consider a case with a combination of fast and slow iterations.
+        After a few fast iterations, ``dynamic_miniters`` will set ``miniters`` to a
+        large number. When interation rate subsequently slows, ``miniters`` will
+        remain large and thus reduce display update frequency. To address this:
+        
+        4. ``maxinterval`` defines the maximum time between display refreshes.
+           A concurrent monitoring thread checks for overdue updates and forces one
+           where necessary.
+        
+        The monitoring thread should not have a noticeable overhead, and guarantees
+        updates at least every 10 seconds by default.
+        This value can be directly changed by setting the ``monitor_interval`` of
+        any ``tqdm`` instance (i.e. ``t = tqdm.tqdm(...); t.monitor_interval = 2``).
+        The monitor thread may be disabled application-wide by setting
+        ``tqdm.tqdm.monitor_interval = 0`` before instantiatiation of any ``tqdm`` bar.
+        
         
         Contributions
         -------------
         
         All source code is hosted on `GitHub <https://github.com/tqdm/tqdm>`__.
         Contributions are welcome.
         
@@ -670,14 +704,16 @@
         .. |Screenshot| image:: https://raw.githubusercontent.com/tqdm/tqdm/master/images/tqdm.gif
         .. |Build-Status| image:: https://travis-ci.org/tqdm/tqdm.svg?branch=master
            :target: https://travis-ci.org/tqdm/tqdm
         .. |Coverage-Status| image:: https://coveralls.io/repos/tqdm/tqdm/badge.svg
            :target: https://coveralls.io/r/tqdm/tqdm
         .. |Branch-Coverage-Status| image:: https://codecov.io/github/tqdm/tqdm/coverage.svg?branch=master
            :target: https://codecov.io/github/tqdm/tqdm?branch=master
+        .. |Codacy-Grade| image:: https://api.codacy.com/project/badge/Grade/3f965571598f44549c7818f29cdcf177
+           :target: https://www.codacy.com/app/tqdm/tqdm?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=tqdm/tqdm&amp;utm_campaign=Badge_Grade
         .. |GitHub-Status| image:: https://img.shields.io/github/tag/tqdm/tqdm.svg?maxAge=2592000
            :target: https://github.com/tqdm/tqdm/releases
         .. |GitHub-Forks| image:: https://img.shields.io/github/forks/tqdm/tqdm.svg
            :target: https://github.com/tqdm/tqdm/network
         .. |GitHub-Stars| image:: https://img.shields.io/github/stars/tqdm/tqdm.svg
            :target: https://github.com/tqdm/tqdm/stargazers
         .. |PyPI-Status| image:: https://img.shields.io/pypi/v/tqdm.svg
```

## Comparing `tqdm-4.8.4/examples/pandas_progress_apply.py` & `tqdm-4.9.0/examples/pandas_progress_apply.py`

 * *Files 4% similar despite different names*

```diff
@@ -11,15 +11,15 @@
 # Now you can use `progress_apply` instead of `apply`
 # and `progress_map` instead of `map`
 df.progress_apply(lambda x: x**2)
 # can also groupby:
 # df.groupby(0).progress_apply(lambda x: x**2)
 
 
-""" Source code for `tqdm_pandas` (really simple!) """
+# -- Source code for `tqdm_pandas` (really simple!)
 # def tqdm_pandas(t):
 #   from pandas.core.frame import DataFrame
 #   def inner(df, func, *args, **kwargs):
 #       t.total = groups.size // len(groups)
 #       def wrapper(*args, **kwargs):
 #           t.update(1)
 #           return func(*args, **kwargs)
```

## Comparing `tqdm-4.8.4/examples/tqdm_wget.py` & `tqdm-4.9.0/examples/tqdm_wget.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/simple_examples.py` & `tqdm-4.9.0/examples/simple_examples.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/progressbar/widgets.py` & `tqdm-4.9.0/examples/progressbar/widgets.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/progressbar/compat.pyc` & `tqdm-4.9.0/examples/progressbar/compat.pyc`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/progressbar/__init__.pyc` & `tqdm-4.9.0/examples/progressbar/__init__.pyc`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/progressbar/progressbar.py` & `tqdm-4.9.0/examples/progressbar/progressbar.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/progressbar/widgets.pyc` & `tqdm-4.9.0/examples/progressbar/widgets.pyc`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/progressbar/__init__.py` & `tqdm-4.9.0/examples/progressbar/__init__.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/progressbar/progressbar.pyc` & `tqdm-4.9.0/examples/progressbar/progressbar.pyc`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/examples/progressbar/compat.py` & `tqdm-4.9.0/examples/progressbar/compat.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/tqdm/_tqdm.py` & `tqdm-4.9.0/tqdm/_tqdm.py`

 * *Files 3% similar despite different names*

```diff
@@ -11,15 +11,17 @@
 # future division is important to divide integers and get as
 # a result precise floating numbers (instead of truncated int)
 from __future__ import division
 # import compatibility functions and utilities
 from ._utils import _supports_unicode, _environ_cols_wrapper, _range, _unich, \
     _term_move_up, _unicode, WeakSet
 import sys
+from threading import Thread
 from time import time
+from time import sleep
 
 
 __author__ = {"github.com/": ["noamraph", "obiwanus", "kmike", "hadim",
                               "casperdcl", "lrq3000"]}
 __all__ = ['tqdm', 'trange',
            'TqdmTypeError', 'TqdmKeyError', 'TqdmDeprecationWarning']
 
@@ -37,20 +39,96 @@
     def __init__(self, msg, fp_write=None, *a, **k):
         if fp_write is not None:
             fp_write("\nTqdmDeprecationWarning: " + str(msg).rstrip() + '\n')
         else:
             super(TqdmDeprecationWarning, self).__init__(msg, *a, **k)
 
 
+class TMonitor(Thread):
+    """
+    Monitoring thread for tqdm bars.
+    Monitors if tqdm bars are taking too much time to display
+    and readjusts miniters automatically if necessary.
+
+    Parameters
+    ----------
+    tqdm_cls  : class
+        tqdm class to use (can be core tqdm or a submodule).
+    sleep_interval  : fload
+        Time to sleep between monitoring checks.
+    """
+
+    # internal vars for unit testing
+    _time = None
+    _sleep = None
+
+    def __init__(self, tqdm_cls, sleep_interval):
+        sys.setcheckinterval(100)
+        Thread.__init__(self)
+        self.daemon = True  # kill thread when main killed (KeyboardInterrupt)
+        self.was_killed = False
+        self.woken = 0  # last time woken up, to sync with monitor
+        self.tqdm_cls = tqdm_cls
+        self.sleep_interval = sleep_interval
+        if TMonitor._time is not None:
+            self._time = TMonitor._time
+        else:
+            self._time = time
+        if TMonitor._sleep is not None:
+            self._sleep = TMonitor._sleep
+        else:
+            self._sleep = sleep
+        self.start()
+
+    def exit(self):
+        self.was_killed = True
+        # self.join()  # DO NOT, blocking event, slows down tqdm at closing
+        return self.report()
+
+    def run(self):
+        cur_t = self._time()
+        while True:
+            # After processing and before sleeping, notify that we woke
+            # Need to be done just before sleeping
+            self.woken = cur_t
+            # Sleep some time...
+            self._sleep(self.sleep_interval)
+            # Quit if killed
+            # if self.exit_event.is_set():  # TODO: should work but does not...
+            if self.was_killed:
+                return
+            # Then monitor!
+            cur_t = self._time()
+            # Check for each tqdm instance if one is waiting too long to print
+            for instance in self.tqdm_cls._instances:
+                # Only if mininterval > 1 (else iterations are just slow)
+                # and last refresh was longer than maxinterval in this instance
+                if instance.miniters > 1 and \
+                  (cur_t - instance.last_print_t) >= instance.maxinterval:
+                    # We force bypassing miniters on next iteration
+                    # dynamic_miniters should adjust mininterval automatically
+                    instance.miniters = 1
+                    # Refresh now! (works only for manual tqdm)
+                    instance.refresh()
+
+    def report(self):
+        # return self.is_alive()  # TODO: does not work...
+        return not self.was_killed
+
+
 class tqdm(object):
     """
     Decorate an iterable object, returning an iterator which acts exactly
     like the original iterable, but prints a dynamically updating
     progressbar every time a value is requested.
     """
+
+    monitor_interval = 10  # set to 0 to disable the thread
+    monitor = None
+
     @staticmethod
     def format_sizeof(num, suffix=''):
         """
         Formats a number (greater than unity) with SI Order of Magnitude
         prefixes.
 
         Parameters
@@ -286,14 +364,18 @@
     def __new__(cls, *args, **kwargs):
         # Create a new instance
         instance = object.__new__(cls)
         # Add to the list of instances
         if "_instances" not in cls.__dict__:
             cls._instances = WeakSet()
         cls._instances.add(instance)
+        # Create the monitoring thread
+        if cls.monitor_interval and (cls.monitor is None or
+                                     not cls.monitor.report()):
+            cls.monitor = TMonitor(cls, cls.monitor_interval)
         # Return the instance
         return instance
 
     @classmethod
     def _get_free_pos(cls, instance=None):
         """ Skips specified instance """
         try:
@@ -311,14 +393,19 @@
         so that newer bars won't overlap previous bars
         """
         try:  # in case instance was explicitly positioned, it won't be in set
             cls._instances.remove(instance)
             for inst in cls._instances:
                 if inst.pos > instance.pos:
                     inst.pos -= 1
+            # Kill monitor if no instances are left
+            if not cls._instances and cls.monitor:
+                cls.monitor.exit()
+                del cls.monitor
+                cls.monitor = None
         except KeyError:
             pass
 
     @classmethod
     def write(cls, s, file=sys.stdout, end="\n"):
         """
         Print a message via tqdm (without overlap with bars)
@@ -336,15 +423,17 @@
                 inst.clear()
                 inst_cleared.append(inst)
         # Write the message
         fp.write(s)
         fp.write(end)
         # Force refresh display of bars we cleared
         for inst in inst_cleared:
-            inst.refresh()
+            # Avoid racing conditions by checking that the instance started
+            if hasattr(inst, 'started') and inst.started:
+                inst.refresh()
         # TODO: make list of all instances incl. absolutely positioned ones?
 
     @classmethod
     def pandas(tclass, *targs, **tkwargs):
         """
         Registers the given `tqdm` class with
             pandas.core.
@@ -486,17 +575,17 @@
             Maximum progress update interval, in seconds [default: 10.0].
         miniters  : int, optional
             Minimum progress update interval, in iterations.
             If specified, will set `mininterval` to 0.
         ascii  : bool, optional
             If unspecified or False, use unicode (smooth blocks) to fill
             the meter. The fallback is to use ASCII characters `1-9 #`.
-        disable  : bool, optional
+        disable  : bool or None, optional
             Whether to disable the entire progressbar wrapper
-            [default: False].
+            [default: False]. If set to None, disable on non-TTY.
         unit  : str, optional
             String that will be used to define the unit of each iteration
             [default: it].
         unit_scale  : bool, optional
             If set, the number of iterations will be reduced/scaled
             automatically and a metric prefix following the
             International System of Units standard will be added
@@ -527,14 +616,18 @@
             Use tqdm_gui(...) instead. If set, will attempt to use
             matplotlib animations for a graphical output [default: False].
 
         Returns
         -------
         out  : decorated iterator.
         """
+
+        if disable is None and hasattr(file, "isatty") and not file.isatty():
+            disable = True
+
         if disable:
             self.iterable = iterable
             self.disable = disable
             self.pos = self._get_free_pos(self)
             self._instances.remove(self)
             return
 
@@ -625,14 +718,17 @@
                     self.desc, ascii, unit, unit_scale, None, bar_format))
             if self.pos:
                 self.moveto(-self.pos)
 
         # Init the time counter
         self.start_t = self.last_print_t = self._time()
 
+        # Avoid race conditions by setting a flag at the very end of init
+        self.started = True
+
     def __len__(self):
         return (self.iterable.shape[0] if hasattr(self.iterable, 'shape')
                 else len(self.iterable)) if self.iterable is not None \
             else self.total
 
     def __enter__(self):
         return self
@@ -642,15 +738,15 @@
         return False
 
     def __del__(self):
         self.close()
 
     def __repr__(self):
         return self.format_meter(self.n, self.total,
-                                 time() - self.last_print_t,
+                                 self._time() - self.start_t,
                                  self.ncols, self.desc, self.ascii, self.unit,
                                  self.unit_scale, 1 / self.avg_time
                                  if self.avg_time else None, self.bar_format)
 
     def __lt__(self, other):
         return self.pos < other.pos
 
@@ -683,15 +779,14 @@
         if self.disable:
             for obj in iterable:
                 yield obj
         else:
             ncols = self.ncols
             mininterval = self.mininterval
             maxinterval = self.maxinterval
-            miniters = self.miniters
             dynamic_miniters = self.dynamic_miniters
             unit = self.unit
             unit_scale = self.unit_scale
             ascii = self.ascii
             start_t = self.start_t
             last_print_t = self.last_print_t
             last_print_n = self.last_print_n
@@ -712,22 +807,23 @@
 
             for obj in iterable:
                 yield obj
                 # Update and print the progressbar.
                 # Note: does not call self.update(1) for speed optimisation.
                 n += 1
                 # check the counter first (avoid calls to time())
-                if n - last_print_n >= miniters:
+                if n - last_print_n >= self.miniters:
+                    miniters = self.miniters  # watch monitoring thread changes
                     delta_t = _time() - last_print_t
                     if delta_t >= mininterval:
                         cur_t = _time()
                         delta_it = n - last_print_n
-                        elapsed = cur_t - start_t
+                        elapsed = cur_t - start_t  # optimised if in inner loop
                         # EMA (not just overall average)
-                        if smoothing and delta_t:
+                        if smoothing and delta_t and delta_it:
                             avg_time = delta_t / delta_it \
                                 if avg_time is None \
                                 else smoothing * delta_t / delta_it + \
                                 (1 - smoothing) * avg_time
 
                         if self.pos:
                             self.moveto(self.pos)
@@ -757,14 +853,15 @@
                             else:
                                 miniters = smoothing * delta_it + \
                                            (1 - smoothing) * miniters
 
                         # Store old values for next call
                         self.n = self.last_print_n = last_print_n = n
                         self.last_print_t = last_print_t = cur_t
+                        self.miniters = miniters
 
             # Closing the progress bar.
             # Update some internal variables for close().
             self.last_print_n = last_print_n
             self.n = n
             self.close()
 
@@ -799,15 +896,15 @@
             # We check the counter first, to reduce the overhead of time()
             delta_t = self._time() - self.last_print_t
             if delta_t >= self.mininterval:
                 cur_t = self._time()
                 delta_it = self.n - self.last_print_n  # should be n?
                 elapsed = cur_t - self.start_t
                 # EMA (not just overall average)
-                if self.smoothing and delta_t:
+                if self.smoothing and delta_t and delta_it:
                     self.avg_time = delta_t / delta_it \
                         if self.avg_time is None \
                         else self.smoothing * delta_t / delta_it + \
                         (1 - self.smoothing) * self.avg_time
 
                 if not hasattr(self, "sp"):
                     raise TqdmDeprecationWarning("""\
@@ -920,27 +1017,33 @@
     def moveto(self, n):
         self.fp.write(_unicode('\n' * n + _term_move_up() * -n))
 
     def clear(self, nomove=False):
         """
         Clear current bar display
         """
+        if self.disable:
+            return
+
         if not nomove:
             self.moveto(self.pos)
         # clear up the bar (can't rely on sp(''))
         self.fp.write('\r')
         self.fp.write(' ' * (self.ncols if self.ncols else 10))
         self.fp.write('\r')  # place cursor back at the beginning of line
         if not nomove:
             self.moveto(-self.pos)
 
     def refresh(self):
         """
         Force refresh the display of this bar
         """
+        if self.disable:
+            return
+
         self.moveto(self.pos)
         # clear up this line's content (whatever there was)
         self.clear(nomove=True)
         # Print current/last bar state
         self.fp.write(self.__repr__())
         self.moveto(-self.pos)
```

## Comparing `tqdm-4.8.4/tqdm/_main.py` & `tqdm-4.9.0/tqdm/_main.py`

 * *Files 11% similar despite different names*

```diff
@@ -31,16 +31,29 @@
     ------
     fin  : file with `read(buf_size : int)` method
     fout  : file with `write` (and optionally `flush`) methods.
     callback  : function(int), e.g.: `tqdm.update`
     """
     fp_write = fout.write
 
-    buf = ''
     tmp = ''
+    if not delim:
+        while True:
+            tmp = fin.read(buf_size)
+
+            # flush at EOF
+            if not tmp:
+                getattr(fout, 'flush', lambda: None)()  # pragma: no cover
+                return
+
+            fp_write(tmp)
+            callback(len(tmp))
+        return
+
+    buf = ''
     # n = 0
     while True:
         tmp = fin.read(buf_size)
 
         # flush at EOF
         if not tmp:
             if buf:
@@ -76,18 +89,25 @@
         -----------------
         delim  : chr, optional
             Delimiting character [default: '\n']. Use '\0' for null.
             N.B.: on Windows systems, Python converts '\n' to '\r\n'.
         buf_size  : int, optional
             String buffer size in bytes [default: 256]
             used when `delim` is specified.
+        bytes  : bool, optional
+            If true, will count bytes and ignore `delim`.
 """
 
 
-def main():
+def main(fp=sys.stderr):
+    """
+    Paramters (internal use only)
+    ---------
+    fp  : file-like object for tqdm
+    """
     d = tqdm.__init__.__doc__ + CLI_EXTRA_DOC
 
     opt_types = dict(RE_OPTS.findall(d))
 
     for o in UNSUPPORTED_OPTS:
         opt_types.pop(o)
 
@@ -113,30 +133,35 @@
     elif any(v in sys.argv for v in ('-h', '--help')):
         sys.stdout.write(__doc__ + '\n')
         sys.exit(0)
 
     argv = RE_SHLEX.split(' '.join(sys.argv))
     opts = dict(zip(argv[1::2], argv[2::2]))
 
-    tqdm_args = {}
+    tqdm_args = {'file': fp}
     try:
         for (o, v) in opts.items():
             try:
                 tqdm_args[o] = cast(v, opt_types[o])
             except KeyError as e:
                 raise TqdmKeyError(str(e))
-        # sys.stderr.write('\ndebug | args: ' + str(tqdm_args) + '\n')
+        # fp.write('\ndebug | args: ' + str(tqdm_args) + '\n')
     except:
-        sys.stderr.write('\nError:\nUsage:\n  tqdm [--help | options]\n')
+        fp.write('\nError:\nUsage:\n  tqdm [--help | options]\n')
         for i in sys.stdin:
             sys.stdout.write(i)
         raise
     else:
-        delim = tqdm_args.pop('delim', '\n')
         buf_size = tqdm_args.pop('buf_size', 256)
-        if delim == '\n':
+        delim = tqdm_args.pop('delim', '\n')
+        delim_per_char = tqdm_args.pop('bytes', False)
+        if delim_per_char:
+            with tqdm(**tqdm_args) as t:
+                posix_pipe(sys.stdin, sys.stdout,
+                           '', buf_size, t.update)
+        elif delim == '\n':
             for i in tqdm(sys.stdin, **tqdm_args):
                 sys.stdout.write(i)
         else:
             with tqdm(**tqdm_args) as t:
                 posix_pipe(sys.stdin, sys.stdout,
                            delim, buf_size, t.update)
```

## Comparing `tqdm-4.8.4/tqdm/_tqdm_notebook.py` & `tqdm-4.9.0/tqdm/_tqdm_notebook.py`

 * *Files 2% similar despite different names*

```diff
@@ -199,25 +199,27 @@
             # cannot catch KeyboardInterrupt when using manual tqdm
             # as the interrupt will most likely happen on another statement
             self.sp(bar_style='danger')
             raise exc
 
     def close(self, *args, **kwargs):
         super(tqdm_notebook, self).close(*args, **kwargs)
-        # Try to detect if there was an error or KeyboardInterrupt
-        # in manual mode: if n < total, things probably got wrong
-        if self.total and self.n < self.total:
-            self.sp(bar_style='danger')
-        else:
-            if self.leave:
-                self.sp(bar_style='success')
+        # If it was not run in a notebook, sp is not assigned, check for it
+        if hasattr(self, 'sp'):
+            # Try to detect if there was an error or KeyboardInterrupt
+            # in manual mode: if n < total, things probably got wrong
+            if self.total and self.n < self.total:
+                self.sp(bar_style='danger')
             else:
-                self.sp(close=True)
+                if self.leave:
+                    self.sp(bar_style='success')
+                else:
+                    self.sp(close=True)
 
-    def moveto(*args, **kwargs):
+    def moveto(self, *args, **kwargs):
         # void -> avoid extraneous `\n` in IPython output cell
         return
 
 
 def tnrange(*args, **kwargs):
     """
     A shortcut for tqdm_notebook(xrange(*args), **kwargs).
```

## Comparing `tqdm-4.8.4/tqdm/_version.py` & `tqdm-4.9.0/tqdm/_version.py`

 * *Files 2% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 except:  # pragma: no cover
     _sh = None
 
 from subprocess import STDOUT
 __all__ = ["__version__"]
 
 # major, minor, patch, -extra
-version_info = 4, 8, 4
+version_info = 4, 9, 0
 
 # Nice string for the version
 __version__ = '.'.join(map(str, version_info))
 
 
 # auto -extra based on commit hash (if not tagged as release)
 if (_sh is not None) and (len(version_info) < 4):  # pragma: no cover
```

## Comparing `tqdm-4.8.4/tqdm/_tqdm_gui.py` & `tqdm-4.9.0/tqdm/_tqdm_gui.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/tqdm/_tqdm_pandas.py` & `tqdm-4.9.0/tqdm/_tqdm_pandas.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/tqdm/__init__.py` & `tqdm-4.9.0/tqdm/__init__.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/tqdm/_utils.py` & `tqdm-4.9.0/tqdm/_utils.py`

 * *Files 7% similar despite different names*

```diff
@@ -91,15 +91,14 @@
         pass
     return None
 
 
 def _environ_cols_tput(*args):  # pragma: no cover
     """ cygwin xterm (windows) """
     try:
-        import subprocess
         import shlex
         cols = int(subprocess.check_call(shlex.split('tput cols')))
         # rows = int(subprocess.check_call(shlex.split('tput lines')))
         return cols
     except:
         pass
     return None
```

## Comparing `tqdm-4.8.4/tqdm/tests/tests_pandas.py` & `tqdm-4.9.0/tqdm/tests/tests_pandas.py`

 * *Files identical despite different names*

## Comparing `tqdm-4.8.4/tqdm/tests/tests_tqdm.py` & `tqdm-4.9.0/tqdm/tests/tests_tqdm.py`

 * *Files 17% similar despite different names*

```diff
@@ -5,22 +5,25 @@
 
 import sys
 import csv
 import re
 import os
 from nose import with_setup
 from nose.plugins.skip import SkipTest
+from nose.tools import assert_raises
+from time import sleep
 
 from tqdm import tqdm
 from tqdm import trange
 from tqdm import TqdmDeprecationWarning
+from tqdm._tqdm import TMonitor
 
 try:
     from StringIO import StringIO
-except:
+except ImportError:
     from io import StringIO
 
 from io import IOBase  # to support unicode strings
 
 
 class DeprecationError(Exception):
     pass
@@ -43,15 +46,15 @@
 except NameError:
     _unicode = str
 
 nt_and_no_colorama = False
 if os.name == 'nt':
     try:
         import colorama  # NOQA
-    except:
+    except ImportError:
         nt_and_no_colorama = True
 
 # Regex definitions
 # List of control characters
 CTRLCHR = [r'\r', r'\n', r'\x1b\[A']  # Need to escape [ for regex
 # Regular expressions compilation
 RE_rate = re.compile(r'(\d+\.\d+)it/s')
@@ -71,19 +74,31 @@
         self.t += t
 
     def time(self):
         '''Get the current time'''
         return self.t
 
 
+class FakeSleep(object):
+    '''Wait until the discrete timer reached the required time'''
+    def __init__(self, dtimer):
+        self.dtimer = dtimer
+
+    def sleep(self, t):
+        end = t + self.dtimer.t
+        while(self.dtimer.t < end):
+            sleep(0.0000001)  # sleep a bit to interrupt (instead of pass)
+
+
 def cpu_timify(t, timer=None):
     '''Force tqdm to use the specified timer instead of system-wide time()'''
     if timer is None:
         timer = DiscreteTimer()
     t._time = timer.time
+    t._sleep = timer.sleep
     t.start_t = t.last_print_t = t._time()
     return timer
 
 
 def pretest():
     if getattr(tqdm, "_instances", False):
         n = len(tqdm._instances)
@@ -299,15 +314,15 @@
             writer.writerow(['test'] * 3)
         test_csv_file.seek(0)
 
         # Test that nothing fails if we iterate over rows
         reader = csv.DictReader(test_csv_file,
                                 fieldnames=('row1', 'row2', 'row3'))
         with closing(StringIO()) as our_file:
-            for row in tqdm(reader, file=our_file):
+            for _ in tqdm(reader, file=our_file):
                 pass
 
 
 @with_setup(pretest, posttest)
 def test_file_output():
     """ Test output to arbitrary file-like objects """
     with closing(StringIO()) as our_file:
@@ -837,15 +852,15 @@
 
 
 @with_setup(pretest, posttest)
 def test_bar_format():
     """ Test custom bar formatting """
     with closing(StringIO()) as our_file:
         bar_format = r'{l_bar}{bar}|{n_fmt}/{total_fmt}-{n}/{total}{percentage}{rate}{rate_fmt}{elapsed}{remaining}'  # NOQA
-        for i in trange(2, file=our_file, leave=True, bar_format=bar_format):
+        for _ in trange(2, file=our_file, leave=True, bar_format=bar_format):
             pass
         out = our_file.getvalue()
     assert "\r  0%|          |0/2-0/20.0None?it/s00:00?\r" in out
 
     # Test unicode string auto conversion
     with closing(StringIO()) as our_file:
         bar_format = r'hello world'
@@ -898,19 +913,19 @@
              '\x1b[A\x1b[A']
     if res != exres:
         raise AssertionError("\nExpected:\n{0}\nGot:\n{1}\nRaw:\n{2}\n".format(
             str(exres), str(res), str([out])))
 
     # Test iteration-based tqdm positioning
     our_file = StringIO()
-    for i in trange(2, file=our_file, miniters=1, mininterval=0,
+    for _ in trange(2, file=our_file, miniters=1, mininterval=0,
                     maxinterval=0, desc='pos0 bar', position=0):
-        for j in trange(2, file=our_file, miniters=1, mininterval=0,
+        for _ in trange(2, file=our_file, miniters=1, mininterval=0,
                         maxinterval=0, desc='pos1 bar', position=1):
-            for k in trange(2, file=our_file, miniters=1, mininterval=0,
+            for _ in trange(2, file=our_file, miniters=1, mininterval=0,
                             maxinterval=0, desc='pos2 bar', position=2):
                 pass
     our_file.seek(0)
     out = our_file.read()
     res = [m[0] for m in RE_pos.findall(out)]
     exres = ['\rpos0 bar:   0%',
              '\n\rpos1 bar:   0%',
@@ -942,15 +957,15 @@
     our_file = StringIO()
     t1 = tqdm(total=2, file=our_file, miniters=1, mininterval=0,
               maxinterval=0, desc='pos0 bar', position=0)
     t2 = tqdm(total=2, file=our_file, miniters=1, mininterval=0,
               maxinterval=0, desc='pos1 bar', position=1)
     t3 = tqdm(total=2, file=our_file, miniters=1, mininterval=0,
               maxinterval=0, desc='pos2 bar', position=2)
-    for i in _range(2):
+    for _ in _range(2):
         t1.update()
         t3.update()
         t2.update()
     our_file.seek(0)
     out = our_file.read()
     res = [m[0] for m in RE_pos.findall(out)]
     exres = ['\rpos0 bar:   0%',
@@ -1115,14 +1130,24 @@
         t1.close()
         t2.close()
         assert before == ['pos0 bar:   0%|', 'pos1 bar:   0%|']
         assert after == ['', '']
 
 
 @with_setup(pretest, posttest)
+def test_clear_disabled():
+    """ Test clearing bar display """
+    with closing(StringIO()) as our_file:
+        with tqdm(total=10, file=our_file, desc='pos0 bar', disable=True,
+                  bar_format='{l_bar}') as t:
+            t.clear()
+        assert our_file.getvalue() == ''
+
+
+@with_setup(pretest, posttest)
 def test_refresh():
     """ Test refresh bar display """
     with closing(StringIO()) as our_file:
         t1 = tqdm(total=10, file=our_file, desc='pos0 bar',
                   bar_format='{l_bar}', mininterval=999, miniters=999)
         t2 = tqdm(total=10, file=our_file, desc='pos1 bar',
                   bar_format='{l_bar}', mininterval=999, miniters=999)
@@ -1137,14 +1162,26 @@
 
         # Check that refreshing indeed forced the display to use realtime state
         assert before == [u'pos0 bar:   0%|', u'pos1 bar:   0%|']
         assert after == [u'pos0 bar:  10%|', u'pos1 bar:  10%|']
 
 
 @with_setup(pretest, posttest)
+def test_disabled_refresh():
+    """ Test refresh bar display """
+    with closing(StringIO()) as our_file:
+        with tqdm(total=10, file=our_file, desc='pos0 bar', disable=True,
+                  bar_format='{l_bar}', mininterval=999, miniters=999) as t:
+            t.update()
+            t.refresh()
+
+        assert our_file.getvalue() == ''
+
+
+@with_setup(pretest, posttest)
 def test_write():
     """ Test write messages """
     s = "Hello world"
     with closing(StringIO()) as our_file:
         # Change format to keep only left part w/o bar and it/s rate
         t1 = tqdm(total=10, file=our_file, desc='pos0 bar',
                   bar_format='{l_bar}', mininterval=0, miniters=1)
@@ -1229,7 +1266,153 @@
     try:
         import numpy as np
     except:
         raise SkipTest
     with closing(StringIO()) as f:
         with tqdm(np.zeros((3, 4)), file=f) as t:
             assert len(t) == 3
+
+
+@with_setup(pretest, posttest)
+def test_autodisable_disable():
+    """Test autodisable will disable on non-TTY"""
+    with closing(StringIO()) as our_file:
+        with tqdm(total=10, disable=None, file=our_file) as t:
+            t.update(3)
+        assert our_file.getvalue() == ''
+
+
+@with_setup(pretest, posttest)
+def test_autodisable_enable():
+    """Test autodisable will not disable on TTY"""
+    with closing(StringIO()) as our_file:
+        setattr(our_file, "isatty", lambda: True)
+        with tqdm(total=10, disable=None, file=our_file) as t:
+            t.update()
+        assert our_file.getvalue() != ''
+
+
+@with_setup(pretest, posttest)
+def test_deprecation_exception():
+    def test_TqdmDeprecationWarning():
+        with closing(StringIO()) as our_file:
+            raise (TqdmDeprecationWarning('Test!',
+                                          fp_write=getattr(our_file, 'write',
+                                                           sys.stderr.write)))
+
+    def test_TqdmDeprecationWarning_nofpwrite():
+        raise (TqdmDeprecationWarning('Test!', fp_write=None))
+
+    assert_raises(TqdmDeprecationWarning, test_TqdmDeprecationWarning)
+    assert_raises(Exception, test_TqdmDeprecationWarning_nofpwrite)
+
+
+@with_setup(pretest, posttest)
+def test_monitoring_thread():
+    # Note: should fix miniters for these tests, else with dynamic_miniters
+    # it's too complicated to handle with monitoring update and maxinterval...
+    maxinterval = 10
+
+    # 1- Configure and test the thread alone
+    # Setup a discrete timer
+    timer = DiscreteTimer()
+    TMonitor._time = timer.time
+    # And a fake sleeper
+    sleeper = FakeSleep(timer)
+    TMonitor._sleep = sleeper.sleep
+
+    # And a fake tqdm
+    class fake_tqdm(object):
+        _instances = []
+
+    # Instanciate the monitor
+    monitor = TMonitor(fake_tqdm, maxinterval)
+    # Test if alive, then killed
+    assert monitor.report()
+    monitor.exit()
+    timer.sleep(maxinterval*2)  # need to go out of the sleep to die
+    assert not monitor.report()
+    # assert not monitor.is_alive()  # not working dunno why, thread not killed
+    del monitor
+
+    # 2- Test for real with a tqdm instance that takes too long
+    total = 1000
+    # Setup a discrete timer
+    timer = DiscreteTimer()
+    # And a fake sleeper
+    sleeper = FakeSleep(timer)
+    # Setup TMonitor to use the timer
+    TMonitor._time = timer.time
+    TMonitor._sleep = sleeper.sleep
+    # Set monitor interval
+    tqdm.monitor_interval = maxinterval
+    with closing(StringIO()) as our_file:
+        with tqdm(total=total, file=our_file, miniters=500,
+                  mininterval=0.1, maxinterval=maxinterval) as t:
+            cpu_timify(t, timer)
+            # Do a lot of iterations in a small timeframe
+            # (smaller than monitor interval)
+            timer.sleep(maxinterval/2)  # monitor won't wake up
+            t.update(500)
+            # check that our fixed miniters is still there
+            assert t.miniters == 500
+            # Then do 1 it after monitor interval, so that monitor kicks in
+            timer.sleep(maxinterval*2)
+            t.update(1)
+            # Wait for the monitor to get out of sleep's loop and update tqdm..
+            timeend = timer.time()
+            while not (t.monitor.woken >= timeend and t.miniters == 1):
+                timer.sleep(1)  # Force monitor to wake up if it woken too soon
+                sleep(0.000001)  # sleep to allow interrupt (instead of pass)
+            assert t.miniters == 1  # check that monitor corrected miniters
+            # Note: at this point, there may be a race condition: monitor saved
+            # current woken time but timer.sleep() happen just before monitor
+            # sleep. To fix that, either sleep here or increase time in a loop
+            # to ensure that monitor wakes up at some point.
+
+            # Try again but already at miniters = 1 so nothing will be done
+            timer.sleep(maxinterval*2)
+            t.update(2)
+            timeend = timer.time()
+            while not (t.monitor.woken >= timeend):
+                timer.sleep(1)  # Force monitor to wake up if it woken too soon
+                sleep(0.000001)
+            # Wait for the monitor to get out of sleep's loop and update tqdm..
+            assert t.miniters == 1  # check that monitor corrected miniters
+
+    # 3- Check that class var monitor is deleted if no instance left
+    assert tqdm.monitor is None
+
+    # 4- Test on multiple bars, one not needing miniters adjustment
+    total = 1000
+    # Setup a discrete timer
+    timer = DiscreteTimer()
+    # And a fake sleeper
+    sleeper = FakeSleep(timer)
+    # Setup TMonitor to use the timer
+    TMonitor._time = timer.time
+    TMonitor._sleep = sleeper.sleep
+    with closing(StringIO()) as our_file:
+        with tqdm(total=total, file=our_file, miniters=500,
+                  mininterval=0.1, maxinterval=maxinterval) as t1:
+            # Set high maxinterval for t2 so monitor does not need to adjust it
+            with tqdm(total=total, file=our_file, miniters=500,
+                      mininterval=0.1, maxinterval=1E5) as t2:
+                cpu_timify(t1, timer)
+                cpu_timify(t2, timer)
+                # Do a lot of iterations in a small timeframe
+                timer.sleep(5)
+                t1.update(500)
+                t2.update(500)
+                assert t1.miniters == 500
+                assert t2.miniters == 500
+                # Then do 1 it after monitor interval, so that monitor kicks in
+                timer.sleep(maxinterval*2)
+                t1.update(1)
+                t2.update(1)
+                # Wait for the monitor to get out of sleep and update tqdm
+                timeend = timer.time()
+                while not (t.monitor.woken >= timeend and t1.miniters == 1):
+                    timer.sleep(1)
+                    sleep(0.000001)
+                assert t1.miniters == 1  # check that monitor corrected miniters
+                assert t2.miniters == 500  # check that t2 was not adjusted
```

## Comparing `tqdm-4.8.4/tqdm/tests/tests_main.py` & `tqdm-4.9.0/tqdm/tests/tests_main.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,11 +1,10 @@
 import sys
 import subprocess
 from tqdm import main, TqdmKeyError, TqdmTypeError
-from copy import deepcopy
 
 from tests_tqdm import with_setup, pretest, posttest, _range, closing, UnicodeIO
 
 
 def _sh(*cmd, **kwargs):
     return subprocess.Popen(cmd, stdout=subprocess.PIPE,
                             **kwargs).communicate()[0].decode('utf-8')
@@ -25,31 +24,39 @@
     ls.wait()
 
     # actual test:
 
     assert (ls_out in res.replace('\r\n', '\n'))
 
     # semi-fake test which gets coverage:
-    try:
-        _SYS = (deepcopy(sys.stdin), deepcopy(sys.argv))
-    except:
-        pass
+    _SYS = sys.stdin, sys.argv
 
     with closing(UnicodeIO()) as sys.stdin:
         sys.argv = ['', '--desc', 'Test CLI delims',
                     '--ascii', 'True', '--delim', r'\0', '--buf_size', '64']
         sys.stdin.write('\0'.join(map(str, _range(int(1e3)))))
         sys.stdin.seek(0)
         main()
 
-    sys.stdin = map(str, _range(int(1e3)))
+    IN_DATA_LIST = map(str, _range(int(1e3)))
+    sys.stdin = IN_DATA_LIST
     sys.argv = ['', '--desc', 'Test CLI pipes',
                 '--ascii', 'True', '--unit_scale', 'True']
     import tqdm.__main__  # NOQA
 
+    IN_DATA = '\0'.join(IN_DATA_LIST)
+    with closing(UnicodeIO()) as sys.stdin:
+        sys.stdin.write(IN_DATA)
+        sys.stdin.seek(0)
+        sys.argv = ['', '--ascii', '--bytes']
+        with closing(UnicodeIO()) as fp:
+            main(fp=fp)
+            assert (str(len(IN_DATA)) in fp.getvalue())
+
+    sys.stdin = IN_DATA_LIST
     sys.argv = ['', '-ascii', '--unit_scale', 'False',
                 '--desc', 'Test CLI errors']
     main()
 
     sys.argv = ['', '-ascii', '-unit_scale', '--bad_arg_u_ment', 'foo']
     try:
         main()
@@ -81,11 +88,8 @@
         sys.argv = ['', i]
         try:
             main()
         except SystemExit:
             pass
 
     # clean up
-    try:
-        sys.stdin, sys.argv = _SYS
-    except:
-        pass
+    sys.stdin, sys.argv = _SYS
```

## Comparing `tqdm-4.8.4/tqdm/tests/tests_perf.py` & `tqdm-4.9.0/tqdm/tests/tests_perf.py`

 * *Files 5% similar despite different names*

```diff
@@ -107,52 +107,54 @@
             return '{0:02d}:{1:02d}'.format(m, s)
 
     def update_and_print(i=1):
         n[0] += i
         if (n[0] - last_n[0]) >= miniters:
             last_n[0] = n[0]
 
-            cur_t = time()
-            if (cur_t - last_t[0]) >= mininterval:
-                last_t[0] = cur_t
+            if (time() - last_t[0]) >= mininterval:
+                last_t[0] = time()  # last_t[0] == current time
 
-                spent = cur_t - start_t[0]
+                spent = last_t[0] - start_t[0]
                 spent_fmt = format_interval(spent)
-                eta = spent / n[0] * total if n[0] else 0
-                frac = n[0] / total
                 rate = n[0] / spent if spent > 0 else 0
-                eta = (total - n[0]) / rate if rate > 0 else 0
-                eta_fmt = format_interval(eta)
                 if 0.0 < rate < 1.0:
                     rate_fmt = "%.2fs/it" % (1.0 / rate)
                 else:
                     rate_fmt = "%.2fit/s" % rate
+
+                frac = n[0] / total
                 percentage = int(frac * 100)
+                eta = (total - n[0]) / rate if rate > 0 else 0
+                eta_fmt = format_interval(eta)
+
                 bar = "#" * int(frac * width)
                 barfill = " " * int((1.0 - frac) * width)
                 bar_length, frac_bar_length = divmod(
                     int(frac * width * 10), 10)
                 bar = '#' * bar_length
                 frac_bar = chr(48 + frac_bar_length) if frac_bar_length \
                     else ' '
+
                 file.write("\r%s %i%%|%s%s%s| %i/%i [%s<%s, %s]"
                            % (desc, percentage, bar, frac_bar, barfill, n[0],
                               total, spent_fmt, eta_fmt, rate_fmt))
+
                 if n[0] == total and leave:
                     file.write("\n")
                 file.flush()
 
     def update_and_yield():
         for elt in iterable:
             yield elt
             update_and_print()
 
     update_and_print(0)
     if iterable is not None:
-        return update_and_yield
+        return update_and_yield()
     else:
         return update_and_print
 
 
 @with_setup(pretest, posttest)
 @retry_on_except()
 def test_iter_overhead():
@@ -278,18 +280,17 @@
             for i in trange(total, file=our_file, leave=True,
                             miniters=1, mininterval=0, maxinterval=0):
                 a += i
         assert(a == (total * total - total) / 2.0)
 
         a = 0
         with relative_timer() as time_bench:
-            simplebar_iter = simple_progress(_range(total), file=our_file,
-                                             leave=True, miniters=1,
-                                             mininterval=0)
-            for i in simplebar_iter():
+            for i in simple_progress(_range(total), file=our_file,
+                                     leave=True, miniters=1,
+                                     mininterval=0):
                 a += i
 
     # Compute relative overhead of tqdm against native range()
     try:
         assert(time_tqdm() < 2 * time_bench())
     except AssertionError:
         raise AssertionError('trange(%g): %f, simple_progress(%g): %f' %
```

